/* ===== RESET + VARIABLES ===== */
*{margin:0;padding:0;box-sizing:border-box}
html,body{height:100%}
html{font-size:100%;transition:font-size 0.3s ease}
:root{
  /* Paleta otoño-invierno con alto contraste */
  --bg-1:#f7ede0;
  --bg-2:#d8c6b2;
  --bg-soft:#f3e4d4;
  --paper:#fffaf5;
  --ink-1:#2b2623;
  --ink-2:#5c524c;
  --dusty-blue:#c87640;
  --dusty-blue-2:#e9975b;
  --slate-blue:#8f4930;
  --slate-blue-2:#5f2c1a;
  --accent:#dfa86a;
  --accent-soft:#f0caa2;
  --cream:#f8e7d5;
  --cream-2:#eed3b3;
  --leaf:#6f8b6d;
  --forest:#425948;
  --charcoal:#1b1f24;
  --charcoal-soft:#242a30;
  --charcoal-mid:#30373f;
  --soft-gray:#cbbdb3;
  --frost:rgba(18,21,26,0.65);
  --frost-light:rgba(255,249,243,0.85);
  --shadow-sm:0 6px 16px rgba(23,27,31,0.22);
  --shadow-md:0 12px 32px rgba(23,27,31,0.28);
  --shadow-lg:0 24px 60px rgba(23,27,31,0.32);
  --gold-glow:0 0 22px rgba(227,177,115,0.4);
  --gold-light:rgba(227,177,115,0.22);
  --gold-medium:rgba(209,143,82,0.34);
  --gold-strong:rgba(186,101,47,0.62);
  --name-write-duration:2.4s;
  --name-write-gap:0.35s;
  --name-entrance-delay:0.6s;
  --names-finish-delay:calc(var(--name-entrance-delay) + var(--name-write-duration) + var(--name-write-gap) + var(--name-write-duration));
}

body{
  position:relative;
  font-family:'Montserrat',system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
  background: linear-gradient(160deg, var(--bg-1) 0%, var(--bg-2) 100%);
  background-attachment: fixed;
  color:var(--ink-1);
  line-height: 1.65;
  -webkit-font-smoothing: antialiased;
}

body::before{
  content:'';
  position:fixed;
  inset:0;
  pointer-events:none;
  background:
    radial-gradient(circle at 18% 20%, rgba(208,139,73,0.18) 0%, transparent 60%),
    radial-gradient(circle at 82% 18%, rgba(245,194,132,0.22) 0%, transparent 65%),
    radial-gradient(circle at 50% 110%, rgba(255,245,236,0.6) 0%, transparent 60%);
  opacity:0.45;
  z-index:-1;
}

img,svg,video{max-width:100%;height:auto}
.display{font-family:'Cormorant Garamond',serif}

@media (prefers-reduced-motion: reduce) {
  *,*::before,*::after{
    animation-duration:0.01ms!important;
    animation-iteration-count:1!important;
    transition-duration:0.01ms!important;
    scroll-behavior:auto!important;
  }
  body::before{opacity:0.2;}
  .music-player-minimal,
  .font-control-slider,
  .timeline__content,
  .story-box,
  .calendar,
  .card{
    transition:none!important;
  }
  :root{
    --name-write-duration:0s;
    --name-write-gap:0s;
    --name-entrance-delay:0s;
    --names-finish-delay:0s;
  }
  .name-glow{
    color:inherit!important;
  }
  .name-glow::before{
    content:none!important;
    animation:none!important;
    border:none!important;
    width:0!important;
  }
  .name-glow::after{
    animation-play-state:running!important;
    animation-delay:0s!important;
  }
  .ampersand{
    opacity:1!important;
  }
}
/* =========================================================================
   REPRODUCTOR DE MÚSICA (BOTÓN + SLIDER VOL) — LÓGICA VISIBILIDAD PEDIDA
   -------------------------------------------------------------------------
   - Oculto por completo en reposo.
   - Se muestra si:
       * hay scroll (body.scrolling) => solo el botón, tenue
       * hover/focus en su hotzone => aparece (opaco al pasar sobre el botón)
       * .controls-open => visible (barra de volumen opaca)
   - Reproduciendo (PLAYING): cerramos barra por JS para poder ocultar el bloque.
   ======================================================================= */

/* Estado base: botón flotante sin contenedor */
.music-player-minimal {
  position: fixed;
  bottom: 20px;
  left: 20px;
  z-index: 10000;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 12px;
  opacity: 0;
  transform: translateY(14px);
  pointer-events: none;
  transition: opacity 0.35s ease, transform 0.35s ease;
}

body.scrolling .music-player-minimal,
.music-player-minimal:hover,
.music-player-minimal:focus-within,
.music-player-minimal.controls-open {
  opacity: 1;
  transform: translateY(0);
  pointer-events: auto;
}

body.touch-device .music-player-minimal {
  opacity: 0;
  transform: translateY(14px);
  pointer-events: none;
}

body.touch-device.scrolling .music-player-minimal,
body.touch-device .music-player-minimal.controls-open,
body.touch-device.player-hint .music-player-minimal,
body.touch-device .music-player-minimal:focus-within {
  opacity: 1;
  transform: translateY(0);
  pointer-events: auto;
}

body.scrolling .music-btn-minimal {
  opacity: 0.45;
}

.music-btn-minimal {
  width: 54px;
  height: 54px;
  border-radius: 50%;
  background: linear-gradient(135deg, var(--dusty-blue-2) 0%, var(--dusty-blue) 100%);
  border: none;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 0 12px 24px rgba(109,47,19,0.25), 0 3px 6px rgba(47,38,34,0.18);
  transition: transform 0.3s ease, box-shadow 0.3s ease, opacity 0.3s ease;
  position: relative;
  -webkit-tap-highlight-color: transparent;
  touch-action: manipulation;
  user-select: none;
  color: #fffdf8;
}

.touch-device .music-btn-minimal {
  width: 62px;
  height: 62px;
}

.music-player-minimal:hover .music-btn-minimal,
.music-player-minimal.controls-open .music-btn-minimal {
  transform: translateY(-2px) scale(1.02);
  box-shadow: 0 16px 30px rgba(109,47,19,0.32), 0 6px 12px rgba(47,38,34,0.22);
  opacity: 1;
}

.music-icon {
  color: currentColor;
  transition: all 0.3s ease;
  position: absolute;
}
.music-icon--play { opacity: 1; }
.music-icon--pause { opacity: 0; }

.music-btn-minimal.playing {
  background: linear-gradient(135deg, var(--slate-blue) 0%, var(--slate-blue-2) 100%);
  box-shadow: 0 18px 34px rgba(109,47,19,0.34), 0 6px 12px rgba(47,38,34,0.25);
}
.music-btn-minimal.playing .music-icon--play { opacity: 0; }
.music-btn-minimal.playing .music-icon--pause { opacity: 1; }

/* ===== VOLUMEN VERTICAL =====
   - Oculto por defecto (aparece en .controls-open o hover del bloque)
   - Durante scroll: se fuerza a oculto (solo se ve el botón)
*/
.volume-vertical {
  position: relative;
  width: 56px;
  height: 160px;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: flex-start;
  opacity: 0;
  transform: translateY(10px);
  pointer-events: none;
  transition: all 0.3s ease;
  gap: 0;
  padding-top: 10px;
  background: var(--frost);
  border: 1px solid rgba(215,130,75,0.26);
  border-radius: 24px;
  box-shadow: 0 12px 28px rgba(109,47,19,0.18);
  backdrop-filter: blur(16px);
}

/* Wrapper para el slider que maneja la rotación */
.volume-vertical::before {
  content: '';
  display: block;
  width: 110px;
  height: 8px;
  position: absolute;
  top: 82px;
  left: 50%;
  transform: translateX(-50%);
  pointer-events: none;
}

/* Mostrar por clic (togglear .controls-open) */
.music-player-minimal.controls-open .volume-vertical {
  opacity: 1;
  transform: translateY(0);
  pointer-events: all;
}

/* Mostrar por hover del bloque */
.music-player-minimal:hover .volume-vertical {
  opacity: 1;
  transform: translateY(0);
  pointer-events: all;
}

/* Si no hay hover/click, desaparece */
.music-player-minimal:not(.controls-open):not(:hover) .volume-vertical {
  opacity: 0;
  transform: translateY(10px);
  pointer-events: none;
}

/* Durante scroll: mostrar solo el botón; ocultar barra de volumen */
body.scrolling .music-player-minimal .volume-vertical {
  opacity: 0 !important;
  pointer-events: none !important;
  transform: translateY(10px);
  transition: opacity 0.25s ease, transform 0.25s ease;
}

/* IMPORTANTE: En móvil, el volumen SOLO se muestra cuando controls-open está activo Y NO hay scroll */
.touch-device .music-player-minimal.controls-open:not(.scrolling) .volume-vertical {
  opacity: 1 !important;
  transform: translateY(0) !important;
  pointer-events: all !important;
}

/* Durante scroll, incluso con controls-open, ocultar el volumen */
body.scrolling .music-player-minimal.controls-open .volume-vertical {
  opacity: 0 !important;
  pointer-events: none !important;
  transform: translateY(10px);
}

.volume-slider-vertical {
  /* Resetear apariencia completamente */
  -webkit-appearance: none;
  appearance: none;
  
  /* Slider HORIZONTAL que rotaremos con transform */
  width: 100px;
  height: 6px;
  
  /* Color sólido simple */
  background: #e0e0e0;
  border-radius: 10px;
  outline: none;
  cursor: pointer;
  transition: all 0.3s ease;
  
  /* Posicionamiento absoluto para control total */
  position: absolute;
  top: 70px;
  left: 50%;
  
  /* CLAVE: Invertir horizontalmente Y rotar */
  /* scale(-1, 1) invierte horizontalmente (0% y 100% cambian de lado) */
  /* rotate(-90deg) lo pone vertical */
  transform: translateX(-50%) scale(-1, 1) rotate(-90deg);
  transform-origin: center center;
  
  /* Eliminar estilos por defecto */
  -webkit-tap-highlight-color: transparent;
  border: none;
  padding: 0;
  margin: 0;
}

.volume-slider-vertical:hover,
.volume-slider-vertical:active {
  height: 8px;
}

/* ===== SLIDER THUMB - WebKit (Safari/iOS) ===== */
.volume-slider-vertical::-webkit-slider-thumb {
  -webkit-appearance: none;
  appearance: none;
  width: 16px;
  height: 16px;
  border-radius: 50%;
  
  background: linear-gradient(135deg, var(--dusty-blue-2) 0%, var(--slate-blue) 100%);
  
  cursor: pointer;
  box-shadow: 0 2px 8px rgba(139,84,46,.35);
  transition: all 0.2s ease;
  border: none;
  
  /* CRÍTICO: El slider tiene scale(-1, 1), así que el thumb también está invertido */
  /* Necesitamos contra-invertir el thumb para que quede centrado */
  transform: scale(-1, 1);
  
  /* Centrar el thumb */
  margin-top: 0;
  position: relative;
}

/* Thumb más grande en dispositivos táctiles */
.touch-device .volume-slider-vertical::-webkit-slider-thumb {
  width: 20px;
  height: 20px;
}

.volume-slider-vertical::-webkit-slider-thumb:hover,
.volume-slider-vertical::-webkit-slider-thumb:active {
  transform: scale(1.2);
  box-shadow: 0 3px 12px rgba(139,84,46,.45);
  background: linear-gradient(135deg, var(--dusty-blue) 0%, var(--slate-blue-2) 100%);
}

/* ===== SLIDER THUMB - Firefox ===== */
.volume-slider-vertical::-moz-range-thumb {
  width: 16px;
  height: 16px;
  border-radius: 50%;
  background: linear-gradient(135deg, var(--dusty-blue-2) 0%, var(--slate-blue) 100%);
  cursor: pointer;
  border: none;
  box-shadow: 0 2px 8px rgba(139,84,46,.35);
  transition: all 0.2s ease;
  
  /* CRÍTICO: Contra-invertir el thumb para compensar el scale(-1,1) del slider */
  transform: scale(-1, 1);
  
  /* Centrar el thumb en la barra */
  position: relative;
}

/* Thumb más grande en dispositivos táctiles */
.touch-device .volume-slider-vertical::-moz-range-thumb {
  width: 20px;
  height: 20px;
}

.volume-slider-vertical::-moz-range-thumb:hover,
.volume-slider-vertical::-moz-range-thumb:active {
  transform: scale(1.2);
  box-shadow: 0 3px 12px rgba(139,84,46,.45);
}

/* ===== TRACK (barra) - forzar transparent en iOS ===== */
.volume-slider-vertical::-webkit-slider-runnable-track {
  -webkit-appearance: none;
  appearance: none;
  background: transparent;
  border: none;
  height: 100px;
}

.volume-slider-vertical::-moz-range-track {
  background: transparent;
  border: none;
  height: 100px;
}

/* Responsive - MÓVIL */
@media (max-width: 640px) {
  /* ===== TAMAÑOS ADAPTADOS PARA DEDOS ===== */
  .music-player-minimal { 
    bottom: 18px; 
    left: 18px;
  }
  
  .music-btn-minimal { 
    width: 60px; 
    height: 60px;
  }
  
  .volume-vertical { 
    height: 132px; 
    width: 60px;
    padding-top: 8px;
  }

  .volume-vertical::before {
    top: 70px;
    width: 96px;
  }
  
  .volume-slider-vertical { 
    height: 90px; 
    width: 98px;
    top: 62px;
  }
  
  .volume-slider-vertical::-webkit-slider-thumb { 
    width: 22px; 
    height: 22px; 
  }
  
  .volume-slider-vertical::-moz-range-thumb { 
    width: 22px; 
    height: 22px; 
  }
  
  /* ===== COMPORTAMIENTO TÁCTIL ===== */
  /* Forzar visibilidad en iOS cuando se toca */
  .music-player-minimal:active,
  .music-player-minimal:focus-within {
    opacity: 1 !important;
  }
  
  /* Mostrar controles al tocar */
  .music-player-minimal:active .volume-vertical,
  .music-player-minimal:focus-within .volume-vertical {
    opacity: 1 !important;
    transform: translateY(0) !important;
    pointer-events: all !important;
  }
  
  /* Cuando está reproduciendo pero no abiertos los controles, ocultar barra */
  .music-player-minimal.playing:not(.controls-open) .volume-vertical {
    opacity: 0 !important;
    transform: translateY(10px) !important;
    pointer-events: none !important;
  }
  
  /* Forzar ocultación cuando no hay interacción (específico iOS) */
  .music-player-minimal:not(.controls-open):not(:active):not(:focus-within) .volume-vertical {
    opacity: 0 !important;
    transform: translateY(10px) !important;
    pointer-events: none !important;
    transition: opacity 0.3s ease, transform 0.3s ease;
  }

  .timeline::before { left: 20px; }
  .timeline__item { padding-left: 68px; }
  .timeline__title { margin-left: 56px; }
}

@media (max-width: 960px) {
  .timeline::before { left: 24px; }
  .timeline__item { padding-left: 76px; }
  .timeline__title { margin-left: 60px; }
}

/* =========================================================================
   RESTO DE ESTILOS DE LA INVITACIÓN (igual que antes)
   ========================================================================= */

.music-controls {
  background: rgba(255, 249, 243, 0.95);
  backdrop-filter: blur(12px);
  border-radius: 20px;
  padding: 12px 16px;
  box-shadow: 0 4px 20px rgba(109,47,19,.18);
  border: 1px solid rgba(215,130,75,0.26);
  display: flex;
  flex-direction: column;
  gap: 8px;
  opacity: 0;
  transform: translateX(-20px);
  pointer-events: none;
  transition: all 0.3s ease;
  min-width: 200px;
}
.music-player:hover .music-controls,
.music-btn.active ~ .music-controls {
  opacity: 1;
  transform: translateX(0);
  pointer-events: all;
}
.music-info { display:flex; align-items:center; gap:8px; }
.music-title {
  font-family:'Montserrat', sans-serif;
  font-size: 12px;
  font-weight: 600;
  color: var(--slate-blue);
}
.volume-control { display:flex; align-items:center; gap:8px; }
.volume-icon { color: var(--slate-blue); flex-shrink:0; }
.volume-slider {
  flex:1; height:4px;
  background: linear-gradient(to right, var(--soft-gray) 0%, var(--dusty-blue) 100%);
  border-radius:10px; outline:none; -webkit-appearance:none; appearance:none; cursor:pointer;
}
.volume-slider::-webkit-slider-thumb{
  -webkit-appearance:none; appearance:none; width:12px; height:12px; border-radius:50%;
  background:linear-gradient(135deg,var(--dusty-blue-2) 0%, var(--slate-blue) 100%);
  cursor:pointer; box-shadow:0 2px 6px rgba(109,47,19,.28); transition:all .2s ease;
}
.volume-slider::-webkit-slider-thumb:hover{ transform:scale(1.2); }
.volume-slider::-moz-range-thumb{
  width:12px; height:12px; border-radius:50%; background:linear-gradient(135deg,var(--dusty-blue-2) 0%, var(--slate-blue) 100%);
  cursor:pointer; border:none; box-shadow:0 2px 6px rgba(109,47,19,.28); transition:all .2s ease;
}
.volume-slider::-moz-range-thumb:hover{ transform:scale(1.2); }
.volume-percent{
  font-family:'Montserrat',sans-serif; font-size:11px; font-weight:600; color:var(--slate-blue);
  min-width:32px; text-align:center; flex-shrink:0;
  position: absolute;
  bottom: 10px;  /* Posición desde abajo */
  left: 50%;
  transform: translateX(-50%);
  display: block;
}

/* ===== CONTROL DE TAMAÑO DE LETRA ===== */
.font-control-slider {
  position: fixed;
  bottom: 20px;
  right: 20px;
  z-index: 10000;
  background: rgba(255, 249, 243, 0.95);
  backdrop-filter: blur(12px);
  border-radius: 50px;
  padding: 8px 10px;
  display: flex;
  align-items: center;
  gap: 8px;
  box-shadow: 0 4px 20px rgba(109,47,19,.18);
  border: 1px solid rgba(215,130,75,0.28);
  transition: all 0.3s ease;
  font-size: 16px;
  min-width: 44px;
  opacity: 0.2;
  cursor: pointer;
}
.font-control-slider:hover {
  opacity: 1;
  box-shadow: 0 6px 25px rgba(109,47,19,.26);
  transform: translateY(-2px);
  min-width: 200px;
  padding: 8px 16px;
}
.font-control-icon { display:flex; align-items:center; justify-content:center; flex-shrink:0; }
.magnifier-icon { width:20px; height:20px; color:var(--slate-blue); transition:all .3s ease; }
.font-control-slider:hover .magnifier-icon { width:22px; height:22px; color:var(--dusty-blue); transform:scale(1.1); }
.font-slider{
  flex:1; height:4px; background:linear-gradient(to right, var(--soft-gray) 0%, var(--dusty-blue) 50%, var(--slate-blue) 100%);
  border-radius:10px; outline:none; -webkit-appearance:none; appearance:none; cursor:pointer; transition:all .3s ease; width:0; opacity:0;
}
.font-control-slider:hover .font-slider{ height:6px; width:120px; opacity:1; }
.font-slider::-webkit-slider-thumb{
  -webkit-appearance:none; appearance:none; width:14px; height:14px; border-radius:50%;
  background:linear-gradient(135deg,var(--dusty-blue) 0%, var(--slate-blue) 100%);
  cursor:pointer; box-shadow:0 2px 8px rgba(109,47,19,.28); transition:all .2s ease;
}
.font-control-slider:hover .font-slider::-webkit-slider-thumb{ width:16px; height:16px; }
.font-slider::-webkit-slider-thumb:hover{ transform:scale(1.2); box-shadow:0 3px 12px rgba(109,47,19,.38); }
.font-slider::-webkit-slider-thumb:active{ transform:scale(1.1); }
.font-slider::-moz-range-thumb{
  width:14px; height:14px; border-radius:50%; background:linear-gradient(135deg,var(--dusty-blue) 0%, var(--slate-blue) 100%);
  cursor:pointer; border:none; box-shadow:0 2px 8px rgba(109,47,19,.28); transition:all .2s ease;
}
.font-control-slider:hover .font-slider::-moz-range-thumb{ width:16px; height:16px; }
.font-slider::-moz-range-thumb:hover{ transform:scale(1.2); box-shadow:0 3px 12px rgba(109,47,19,.38); }
.font-slider::-moz-range-thumb:active{ transform:scale(1.1); }
.font-percent{
  font-family:'Montserrat',sans-serif; font-weight:600; color:var(--slate-blue);
  font-size:11px; min-width:38px; text-align:right; flex-shrink:0; transition:all .3s ease; width:0; opacity:0; overflow:hidden;
}
.font-control-slider:hover .font-percent{ font-size:13px; width:38px; opacity:1; color:var(--dusty-blue); }

/* ===== SOBRE (overlay) y resto de secciones… (sin cambios de lógica) ===== */
.envelope-overlay{
  position:fixed;inset:0;z-index:9999;display:grid;place-items:center;
  background:linear-gradient(155deg,#161a1e 0%, #1f252a 55%, #262d33 100%);
  transition:opacity .8s ease,visibility .8s ease;
  font-size:16px;
}
.envelope-overlay::before{
  content:'';
  position:absolute;
  inset:0;
  background:
    radial-gradient(45% 45% at 50% 30%, rgba(255,255,255,0.18), transparent 60%),
    radial-gradient(40% 40% at 70% 70%, rgba(201,184,150,0.2), transparent 70%);
  opacity:0.8;
  pointer-events:none;
}
body.opened .envelope-overlay{opacity:0;visibility:hidden;pointer-events:none}

.envelope{
  position:relative;width:min(92vw,680px);aspect-ratio:1/1;border-radius:18px;overflow:hidden;
  box-shadow:0 28px 70px rgba(12,14,16,0.45);
  background:linear-gradient(160deg, rgba(255,255,255,0.08), rgba(255,255,255,0));
  transform-origin:center;
  transition:transform 0.9s cubic-bezier(0.22, 1, 0.36, 1), box-shadow 0.6s ease;
  --seal-x:50%;--seal-y:50%;--seal-size:clamp(64px,12vw,92px);
}
.envelope::after{
  content:'';
  position:absolute;
  inset:8%;
  border-radius:16px;
  border:1px solid rgba(255,255,255,0.16);
  pointer-events:none;
  box-shadow:0 0 0 1px rgba(255,255,255,0.08);
  opacity:0;
  transition:opacity 0.6s ease;
}
.envelope:hover::after{opacity:1;}
.envelope.opening{
  animation:envelopeLift 1.15s ease both;
}

.envelope__img{
  position:absolute;inset:0;width:100%;height:100%;object-fit:cover;
  transform-origin:center;
  backface-visibility:hidden;
  transition:opacity 1s cubic-bezier(0.22, 1, 0.36, 1), transform 1.1s cubic-bezier(0.22, 1, 0.36, 1), filter 1s ease;
}
.envelope__img--closed{ opacity:1; transform:scale(1.02) translateY(0); filter:brightness(1) contrast(1); z-index:2; }
.envelope__img--open{   opacity:0; transform:scale(1.05) translateY(6%); filter:brightness(1.02) saturate(1.05); z-index:1; }

.envelope.opening .envelope__img--closed{ opacity:0; filter:brightness(0.84) contrast(1); transform:scale(1.08) translateY(-8%); transition-delay:0s; }
.envelope.opening .envelope__img--open{   opacity:1; transform:scale(1) translateY(0); transition-delay:0.22s; }

.envelope__text{
  position:absolute;inset:auto 0 8% 0;display:grid;place-items:center;z-index:3;
  text-align:center;color:#fef5e7;
  text-shadow:0 3px 8px rgba(0,0,0,0.8),0 0 30px rgba(255,245,231,0.6),0 0 15px rgba(212,175,55,0.5),0 1px 0 rgba(255,255,255,0.5),0 -1px 0 rgba(0,0,0,0.3);
  pointer-events:none;font-family:'Cormorant Garamond', serif;transition:all 1.2s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}
.envelope.opening .envelope__text{ opacity:0; transform:translateY(8px); transition-delay:0.2s; }

.seal-hit{
  position:absolute;left:calc(var(--seal-x) - var(--seal-size)/2);
  top:calc(var(--seal-y) - var(--seal-size)/2);
  width:var(--seal-size);height:var(--seal-size);border-radius:50%;
  background:transparent;border:none;cursor:pointer;z-index:4;transition:all 1s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}
.seal-hit:hover{ outline:2px solid rgba(255,255,255,0.6); outline-offset:2px; }
.seal-hit:focus{ outline:2px solid rgba(255,255,255,0.8); outline-offset:3px; }
.envelope.opening .seal-hit{ transform:scale(1.5); opacity:0; pointer-events:none; transition-delay:0.3s; }

@keyframes envelopeLift{
  0%{ transform:scale(1) translateY(0); box-shadow:0 28px 60px rgba(16,18,20,0.5); }
  40%{ transform:scale(1.03) translateY(-16px); box-shadow:0 36px 80px rgba(16,18,20,0.46); }
  100%{ transform:scale(1) translateY(0); box-shadow:0 24px 56px rgba(16,18,20,0.38); }
}

/* Contenedores generales */
.band{position:relative;left:50%;right:50%;margin-left:-50vw;margin-right:-50vw;width:100vw;z-index:1}
.band__inner{max-width:min(1200px,92vw);margin:0 auto;padding:0 clamp(18px,5vw,40px);text-align:center}

.container{
  position:relative; max-width:min(1200px,92vw); margin:clamp(16px,4vw,28px) auto; background:var(--paper);
  border-radius:20px; box-shadow:var(--shadow-lg); overflow:hidden; animation:fadeIn .8s ease-in;
}
.container::before {
  content: ''; position: absolute; inset: 0;
  background-image: url('images/fondo.jpg');
  background-size: cover; background-position: center; background-repeat: no-repeat;
  opacity: 0.18; pointer-events: none; z-index: 0;
}
.content{ position: relative; z-index: 1; padding:clamp(28px,6vw,60px) clamp(18px,5vw,40px); }
@keyframes fadeIn{from{opacity:0;transform:translateY(24px)}to{opacity:1;transform:translateY(0)}}
.section{ position: relative; z-index: 1; margin-bottom:clamp(28px,6vw,50px); text-align:center; }

/* HEADER */
.band--header{
  background:linear-gradient(170deg, var(--charcoal) 0%, var(--charcoal-soft) 45%, var(--charcoal-mid) 100%);
  text-align:center; padding:clamp(60px,10vw,120px) 0; color:#f4eee6;
  position:relative; overflow:hidden; box-shadow:inset 0 -12px 25px rgba(0,0,0,.25);
}
.band--header::before {
  content: ''; position: absolute; inset: 0;
  background:
    radial-gradient(ellipse at 20% 40%, rgba(227,177,115,0.28) 0%, transparent 60%),
    radial-gradient(ellipse at 78% 20%, rgba(111,139,109,0.18) 0%, transparent 62%),
    radial-gradient(ellipse at 40% 85%, rgba(48,56,64,0.45) 0%, transparent 68%);
  pointer-events: none; animation: backgroundPulse 8s ease-in-out infinite;
}
@keyframes backgroundPulse { 0%,100%{opacity:0.7} 50%{opacity:1} }

.hero-content { position: relative; z-index: 2; }
.names-container { margin-bottom: clamp(30px, 6vw, 50px); position: relative; }
.names-container::before {
  content: ''; position: absolute; top: 50%; left: 50%;
  transform: translate(-50%, -50%) scale(0.8);
  width: 80%; height: 80%; background: radial-gradient(ellipse at center, var(--gold-light) 0%, transparent 70%);
  filter: blur(40px); z-index: -1; opacity: 0; transition: none;
}
body.opened .names-container::before { animation: backgroundReveal 2s ease-out var(--name-entrance-delay) forwards; }
@keyframes backgroundReveal { 0%{opacity:0;transform:translate(-50%,-50%) scale(0.8)} 100%{opacity:1;transform:translate(-50%,-50%) scale(1)} }

.hero-content h1{
  font-family:'Great Vibes','Cormorant Garamond',serif; font-weight:400;
  font-size:clamp(3.5rem, 8vw, 6.5rem); letter-spacing:4px; color:#f7f1e8; line-height:1.1; margin:0;
  text-shadow:0 8px 28px rgba(0,0,0,0.45);
  opacity:0; transform:translateY(30px); transition:none;
}
body.opened .hero-content h1 { animation: titleEntrance 1.5s cubic-bezier(0.25, 0.46, 0.45, 0.94) var(--name-entrance-delay) forwards; }
@keyframes titleEntrance { 0%{opacity:0;transform:translateY(30px)} 100%{opacity:1;transform:translateY(0)} }

.name-glow{
  position: relative;
  display: inline-block;
  --stroke-delay:0s;
  color: transparent;
}
.name-glow::before{
  content: attr(data-text);
  position: absolute;
  inset: 0;
  display: inline-block;
  color: inherit;
  white-space: nowrap;
  width: 0;
  border-right: 0.08em solid rgba(247,241,232,0.7);
  overflow: hidden;
  z-index: 2;
  filter: drop-shadow(0 8px 28px rgba(0,0,0,0.45));
  animation: none;
  pointer-events:none;
}
body.opened .name-glow::before{
  animation: nameStroke var(--name-write-duration) steps(34) forwards;
  animation-delay: calc(var(--name-entrance-delay) + var(--stroke-delay));
}
.name-glow::after{
  content: attr(data-text);
  position: absolute;
  inset: 0;
  background: linear-gradient(45deg, transparent 30%, var(--gold-medium) 50%, transparent 70%);
  background-size: 200% 100%;
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
  opacity: 0.6;
  z-index: 1;
  animation: shine 3s ease-in-out infinite;
  animation-play-state: paused;
  pointer-events:none;
}
body.opened .name-glow::after{
  animation-delay: calc(var(--name-entrance-delay) + var(--stroke-delay) + var(--name-write-duration));
  animation-play-state: running;
}
body.opened .name-glow{
  animation: nameReveal 0.001s linear forwards;
  animation-delay: calc(var(--name-entrance-delay) + var(--stroke-delay) + var(--name-write-duration));
}
.hero-content h1 .name-glow:last-of-type{
  --stroke-delay:calc(var(--name-write-duration) + var(--name-write-gap));
}
@keyframes shine { 0%,100%{background-position:-200% 0;opacity:0.4} 50%{background-position:200% 0;opacity:0.8} }
@keyframes nameStroke {
  0%{width:0;border-right-color:rgba(247,241,232,0.7);opacity:1;}
  95%{border-right-color:rgba(247,241,232,0.7);opacity:1;}
  100%{width:100%;border-right-color:transparent;opacity:0;}
}

@keyframes nameReveal {
  to { color: inherit; }
}

.ampersand{ color:var(--accent-soft); font-style:normal; font-size:1.4em; font-weight:400; margin:0 .3em; display:inline-block;
  text-shadow:0 0 25px rgba(227,177,115,0.55),0 0 60px rgba(227,177,115,0.38),0 0 80px rgba(227,177,115,0.32);
  filter: drop-shadow(0 2px 4px rgba(0,0,0,0.55));
  opacity:0;
}
body.opened .ampersand {
  animation:
    ampersandAppear 0.001s linear forwards var(--names-finish-delay),
    ampersandFloat 3s ease-in-out infinite calc(var(--names-finish-delay) + 0.15s),
    ampersandGlow 2s ease-in-out infinite alternate calc(var(--names-finish-delay) + 0.15s);
}
@keyframes ampersandAppear {
  to { opacity: 1; }
}
@keyframes ampersandFloat { 0%,100%{transform:translateY(0) rotate(0)} 33%{transform:translateY(-3px) rotate(-1deg)} 66%{transform:translateY(2px) rotate(1deg)} }
@keyframes ampersandGlow {
  0%{text-shadow:0 0 25px var(--gold-strong),0 0 50px var(--gold-medium),0 0 75px var(--gold-light)}
  100%{text-shadow:0 0 35px var(--gold-strong),0 0 70px var(--gold-medium),0 0 100px var(--gold-light)}
}

.wedding-announcement{ margin: clamp(25px, 5vw, 40px) 0; position: relative; }
.kicker{
  font-family:'Cormorant Garamond', serif; font-size:clamp(1.5rem, 3.5vw, 2.2rem); font-weight:600; letter-spacing:6px; text-transform:uppercase;
  color:#f2ebdf; margin:0; opacity:0; transform:translateY(20px) scale(0.9);
  text-shadow:0 1px 0 rgba(255,255,255,0.35),0 4px 12px rgba(0,0,0,0.35);
  position: relative; display: inline-block; transition:none;
}
body.opened .kicker{ animation: announcementReveal 1.2s cubic-bezier(0.25, 0.46, 0.45, 0.94) calc(var(--names-finish-delay) + 0.3s) forwards; }
@keyframes announcementReveal { 0%{opacity:0;transform:translateY(20px) scale(0.9)} 100%{opacity:1;transform:translateY(0) scale(1)} }
.kicker::before,.kicker::after{
  content:''; position:absolute; top:50%; width:clamp(40px, 8vw, 80px); height:1.5px;
  background: linear-gradient(90deg, transparent, rgba(227,177,115,0.7), transparent);
  opacity:0; transform:translateY(-50%) scaleX(0); transition:none;
}
.kicker::before { right: 100%; margin-right: 20px; }
.kicker::after  { left: 100%; margin-left: 20px; }
body.opened .kicker::before,
body.opened .kicker::after { animation: lineReveal 1s ease-out calc(var(--names-finish-delay) + 0.6s) forwards; }
@keyframes lineReveal { 0%{opacity:0;transform:translateY(-50%) scaleX(0)} 100%{opacity:1;transform:translateY(-50%) scaleX(1)} }

.date-container{ margin-top: clamp(25px, 5vw, 40px); opacity: 0; transform: translateY(25px); transition:none; }
body.opened .date-container{ animation: dateReveal 1s cubic-bezier(0.25, 0.46, 0.45, 0.94) calc(var(--names-finish-delay) + 0.9s) forwards; }
@keyframes dateReveal { 0%{opacity:0;transform:translateY(25px)} 100%{opacity:1;transform:translateY(0)} }

.date-badge{
  display:inline-flex; align-items:center; gap:clamp(10px, 2vw, 15px);
  background:linear-gradient(135deg, rgba(223,168,106,0.92) 0%, rgba(143,73,48,0.95) 70%);
  color:#ffffff; padding:clamp(14px, 2.5vw, 18px) clamp(24px, 4vw, 32px);
  border-radius:999px; font-weight:600; letter-spacing:2px;
  box-shadow:0 6px 22px rgba(0,0,0,0.35),0 12px 42px rgba(0,0,0,0.25), inset 0 1px 0 rgba(255,255,255,0.35), 0 0 24px rgba(227,177,115,0.4);
  position: relative; overflow: hidden; transition: all 0.3s ease;
}
.date-badge:hover { transform: translateY(-2px); box-shadow: 0 8px 25px rgba(139,84,46,.38),0 15px 45px rgba(139,84,46,.28), inset 0 1px 0 rgba(255,255,255,0.35),0 0 30px rgba(208,139,73,0.55); }
.date-badge::before { content:''; position:absolute; top:0; left:-100%; width:100%; height:100%; background:linear-gradient(90deg,transparent,rgba(255,255,255,0.3),transparent); transition:left .6s ease; }
.date-badge:hover::before{ left: 100%; }
.date-badge span:nth-child(1){ font-family:'Cormorant Garamond',serif; font-size:clamp(2rem, 4vw, 3rem); font-weight:700; text-shadow:0 2px 8px rgba(0,0,0,0.3); }
.date-badge span:nth-child(3){ font-size:clamp(1.1rem, 2vw, 1.4rem); text-shadow:0 1px 4px rgba(0,0,0,0.2); letter-spacing: 3px; }
.date-badge span:nth-child(5){ font-size:clamp(1rem, 1.8vw, 1.2rem); opacity:0.9; }
.date-badge span:nth-child(2), .date-badge span:nth-child(4){ color:rgba(255,255,255,0.8); font-size:clamp(1.1rem,2vw,1.4rem); animation: dotPulse 2s ease-in-out infinite; }
@keyframes dotPulse { 0%,100%{opacity:0.7;transform:scale(1)} 50%{opacity:1;transform:scale(1.1)} }

/* Timeline, historia, tarjetas, calendario, RSVP, footer */
.timeline { margin-top: 32px; padding-top: 16px; display: grid; gap: 22px; position: relative; }
.timeline::before {
  content: "";
  position: absolute;
  top: 8px;
  bottom: 24px;
  left: 28px;
  width: 2px;
  background: linear-gradient(to bottom, rgba(79,127,113,0.3), rgba(215,130,75,0.4));
  transform: translateX(-50%);
}
.timeline__title {
  font-family: 'Cormorant Garamond', serif;
  font-size: 1.52rem;
  font-weight: 600;
  color: var(--slate-blue);
  margin: 0 0 10px 68px;
  letter-spacing: 0.04em;
}
.timeline__item {
  position: relative;
  padding-left: 86px;
  display: grid;
  gap: 16px;
}
.timeline__item:hover .timeline__dot {
  transform: translate(-50%, -1px) scale(1.08);
  box-shadow: 0 10px 24px rgba(79,127,113,0.35);
}
.timeline__dot {
  position: absolute;
  left: 28px;
  top: 12px;
  width: 16px;
  height: 16px;
  border-radius: 50%;
  border: 2px solid rgba(79,127,113,0.85);
  background: #fff;
  transform: translate(-50%, 0);
  transition: transform 0.35s ease, box-shadow 0.35s ease;
}
.timeline__content {
  background: rgba(255, 255, 255, 0.92);
  border-radius: 18px;
  padding: 18px 22px;
  box-shadow: 0 8px 26px rgba(109,47,19,0.18);
  border: 1px solid rgba(215,130,75,0.26);
  transition: transform 0.35s ease, box-shadow 0.35s ease, border 0.35s ease, background 0.35s ease;
}
.timeline__item:hover .timeline__content {
  transform: translateY(-4px);
  box-shadow: 0 18px 42px rgba(109,47,19,0.24);
  border-color: rgba(245,194,132,0.4);
  background: rgba(255, 255, 255, 0.96);
}
.timeline__label {
  font-family: 'Montserrat', sans-serif;
  font-size: 0.82rem;
  text-transform: uppercase;
  letter-spacing: 0.14em;
  color: var(--leaf);
}
.timeline__heading {
  font-family: 'Cormorant Garamond', serif;
  font-size: 1.35rem;
  color: var(--slate-blue);
  margin: 6px 0;
}
.timeline__text {
  margin: 0;
  color: var(--ink-2);
  font-size: 1.02rem;
  line-height: 1.7;
}
.timeline__list {
  list-style: none;
  margin: 4px 0 0 0;
  padding: 0;
  display: grid;
  gap: 6px;
  font-size: 1.02rem;
  color: var(--ink-2);
}
.timeline__list li {
  position: relative;
  padding-left: 18px;
}
.timeline__list li::before {
  content: "—";
  position: absolute;
  left: 0;
  top: 0;
  color: var(--dusty-blue);
}

.phrase{font-family:'Cormorant Garamond',serif;font-size:clamp(1.25rem,2.8vw,1.7rem);color:var(--slate-blue);font-style:italic;line-height:1.7;margin-bottom:28px;font-weight:500}
.divider{width:80px;height:2px;background:linear-gradient(90deg,transparent,var(--dusty-blue),transparent);margin:18px auto}

.section-title{font-family:'Cormorant Garamond',serif;font-size:clamp(1.65rem,2.6vw,2.1rem);font-weight:600;color:var(--slate-blue)}
.section-title--light{color:#f8f9fa}
.ornament{display:flex;justify-content:center;margin:6px 0 10px}
.ornament--branch svg{opacity:.85}
.ornament--branch path{stroke:var(--leaf);}
.story-box{
  position: relative; z-index: 1; max-width:900px;margin:0 auto;background:rgba(245,243,240,0.92);
  border:1px solid rgba(184,153,90,.25); border-radius:16px;box-shadow:var(--shadow-sm);padding:30px 28px;
  backdrop-filter:blur(6px); transition:transform .6s ease, box-shadow .6s ease;
}
.story-box::before{
  content:''; position:absolute; inset:12px;
  border:1px solid rgba(184,153,90,0.35); border-radius:12px; opacity:0; transform:scale(.96);
  transition:opacity .8s ease, transform .8s ease; pointer-events:none;
}
body.opened .story-box::before{opacity:1;transform:scale(1);}
.story-box:hover{transform:translateY(-6px);box-shadow:var(--shadow-md);}
.story-text p{margin:0 0 18px 0;text-align:left;color:var(--ink-1);line-height:1.95;font-size:1.08rem}
.story-text p:first-child::first-letter{
  font-family:'Great Vibes','Cormorant Garamond',serif;
  font-size:clamp(3rem,6vw,4.3rem);
  line-height:0.85;
  float:left;
  margin-right:0.4rem;
  margin-top:0.15rem;
  color:var(--slate-blue);
  text-shadow:var(--gold-glow);
}
.story-text p:last-child{margin-bottom:0}
.placeholder{opacity:.7}

.card{ position: relative; z-index: 1; background:var(--cream);border:1px solid rgba(215,130,75,.22);border-radius:14px; box-shadow:var(--shadow-sm);text-align:left;max-width:900px;margin:0 auto;overflow:hidden }
.card--info{border-left:4px solid var(--leaf)}
.card__header{padding:22px 24px 0}
.card__body{padding:14px 24px;color:var(--ink-1);line-height:1.9;font-size:1.05rem}
.card__body p{margin-bottom:0.8rem}
.card__body strong{color:var(--leaf);font-size:1.1rem}
.card__map{display:flex;justify-content:center;margin:0.5rem 0 1.4rem}
.card__map-link{display:inline-flex;margin:0}
.card__footer{padding:0 24px 22px;text-align:center}

.btn{display:inline-block;border:none;cursor:pointer;text-decoration:none;border-radius:999px;font-weight:700;letter-spacing:.5px;text-align:center;margin:.35rem auto;transition:all .3s ease;font-size:1.05rem}
.btn--coffee{
  background:linear-gradient(135deg,var(--leaf) 0%, var(--forest) 100%);
  color:#ffffff;padding:14px 32px;box-shadow:0 6px 20px rgba(63,86,68,0.28);border:none;
}
.btn--coffee:hover{background:linear-gradient(135deg,var(--forest) 0%, var(--leaf) 100%);transform:translateY(-2px);box-shadow:0 10px 28px rgba(63,86,68,0.32)}
.btn--slate{background:var(--slate-blue);color:#ffffff;padding:14px 38px}
.btn--slate:hover{background:var(--slate-blue-2);transform:translateY(-2px);box-shadow:0 8px 22px rgba(109,47,19,.28)}
.btn--outline{
  background:transparent;
  color:var(--leaf);
  border:1.5px solid rgba(111,139,109,0.65);
  padding:13px 30px;
  box-shadow:none;
}
.btn--outline:hover{
  color:#ffffff;
  background:linear-gradient(135deg,var(--leaf) 0%, var(--forest) 100%);
  border-color:transparent;
  transform:translateY(-2px);
  box-shadow:0 8px 22px rgba(63,86,68,0.28);
}
.btn--ghost{
  background:rgba(244,238,230,0.08);
  color:#f4eee6;
  border:1.5px solid rgba(244,238,230,0.18);
  box-shadow:none;
}
.btn--ghost:hover{
  background:rgba(244,238,230,0.2);
  color:var(--charcoal);
  border-color:transparent;
}

.calendar{
  position: relative; z-index: 1; display:grid;grid-template-columns:auto 1fr;gap:18px;align-items:center;
  background:linear-gradient(140deg, rgba(255,252,247,0.95) 0%, rgba(240,191,138,0.85) 100%);
  border:1px solid rgba(215,130,75,.26);border-radius:16px;padding:clamp(16px,3.6vw,24px);
  max-width:900px;margin:0 auto;
  box-shadow:var(--shadow-sm);
  transition:transform .45s ease, box-shadow .45s ease;
  overflow:hidden;
}
.calendar::before{
  content:'';
  position:absolute;inset:0;
  background:linear-gradient(120deg, rgba(184,153,90,0.18), transparent 70%);
  opacity:0;
  transition:opacity .45s ease;
  pointer-events:none;
}
.calendar:hover{
  transform:translateY(-6px);
  box-shadow:var(--shadow-md);
}
.calendar:hover::before{opacity:1;}
.calendar__left{
  background:linear-gradient(160deg, rgba(255,255,255,0.9) 0%, rgba(240,182,125,0.28) 100%);
  border:1px solid rgba(215,130,75,.26);border-radius:12px;width:92px;min-width:92px;text-align:center;padding:10px 0;box-shadow:0 10px 24px rgba(109,47,19,0.2)
}
.calendar__day{font-family:'Cormorant Garamond',serif;font-size:2rem;color:var(--dusty-blue);line-height:1;font-weight:600;text-shadow:0 6px 12px rgba(109,47,19,0.22)}
.calendar__month{font-weight:700;color:var(--slate-blue);letter-spacing:2px;font-size:.85rem}
.calendar__year{font-size:.85rem;color:var(--ink-2)}
.calendar__right{text-align:center}
.calendar__right h3{font-family:'Cormorant Garamond',serif;color:var(--slate-blue);font-size:1.35rem;margin-bottom:8px;line-height:1.5}
.calendar__right p{color:var(--ink-1);margin-bottom:12px;font-size:1.05rem}

.band--rsvp{
  position:relative;
  background:linear-gradient(135deg,var(--dusty-blue) 0%, var(--dusty-blue-2) 100%);
  color:#ffffff;padding:clamp(32px,6vw,72px) 0;
  overflow:hidden;
}
.band--rsvp::before{
  content:'';
  position:absolute;
  inset:0;
  background:
    radial-gradient(circle at 20% 30%, rgba(255,255,255,0.24), transparent 60%),
    radial-gradient(circle at 80% 65%, rgba(255,210,168,0.3), transparent 65%);
  opacity:0.65;
  animation:bandGlow 14s ease-in-out infinite alternate;
  pointer-events:none;
}
.band--rsvp .band__inner{position:relative;z-index:1}
.band--rsvp .band__inner p{font-size:clamp(1.05rem,2.5vw,1.2rem);margin:12px 0 20px;line-height:1.7}
.band--rsvp .btn{display:inline-block;margin-top:6px}
.band--rsvp .btn--slate{background:#ffffff;color:var(--dusty-blue);font-weight:700}
.band--rsvp .btn--slate:hover{background:var(--cream);color:var(--slate-blue)}
.band--rsvp .countdown{margin-top:clamp(24px,4vw,36px);display:flex;flex-direction:column;align-items:center;gap:clamp(12px,3vw,18px);text-align:center}
.band--rsvp .countdown__title{font-size:clamp(1rem,2.3vw,1.2rem);letter-spacing:0.16em;text-transform:uppercase;color:var(--cream);margin:0}
.band--rsvp .countdown__grid{display:flex;gap:clamp(12px,4vw,24px);flex-wrap:wrap;justify-content:center}
.band--rsvp .countdown__item{
  position:relative;
  background:rgba(255,255,255,0.12);
  padding:clamp(12px,3vw,18px) clamp(18px,4vw,24px);border-radius:16px;min-width:92px;
  box-shadow:0 10px 25px rgba(0,0,0,0.12);backdrop-filter:blur(6px);
  overflow:hidden;
}
.band--rsvp .countdown__item::before{
  content:'';
  position:absolute;inset:-2px;
  border-radius:inherit;
  border:1px solid rgba(255,255,255,0.28);
  box-shadow:0 0 18px rgba(255,255,255,0.25);
  opacity:0;
  transition:opacity .6s ease;
}
.band--rsvp .countdown__item::after{
  content:'';
  position:absolute;inset:0;
  background:linear-gradient(135deg, rgba(255,255,255,0.2), transparent 70%);
  opacity:0;
  transition:opacity .6s ease;
}
.band--rsvp .countdown__item:hover::before,
.band--rsvp .countdown__item:hover::after{opacity:1;}
.band--rsvp .countdown__value{display:block;font-size:clamp(1.8rem,5vw,2.6rem);font-weight:600;font-family:'Montserrat',sans-serif;color:#ffffff;animation:countFloat 5s ease-in-out infinite}
.band--rsvp .countdown__label{display:block;margin-top:6px;font-size:clamp(0.75rem,2vw,0.95rem);letter-spacing:0.12em;text-transform:uppercase;color:rgba(255,255,255,0.75)}
.band--rsvp .countdown__subtitle{font-size:clamp(0.85rem,2.1vw,1rem);color:rgba(255,255,255,0.85);margin:0}
.alt-link a{color:#ffffff;text-decoration:underline}

.footer{background:var(--slate-blue);padding:20px;text-align:center;color:#ffffff;font-size:.95em;letter-spacing:1px;position:relative;z-index:1}

.nuestra-foto { display:flex; justify-content:center; background:linear-gradient(180deg,#f8e6d0 0%, #f0c79f 100%); padding:2rem 0; }
.foto-container { max-width:640px; width:90%; border-radius:16px; overflow:hidden; box-shadow:0 10px 40px rgba(109,47,19,.22); }
.foto-container img { width:100%; height:auto; object-fit:contain; display:block; }

/* Cita bíblica */
.biblical-quote {
  background: rgba(255, 255, 255, 0.6);
  border-left: 4px solid var(--dusty-blue);
  border-radius: 8px;
  padding: 32px 28px;
  margin: 0 auto 24px;
  max-width: 800px;
  position: relative;
  box-shadow: 0 4px 16px rgba(109, 47, 19, 0.18);
}
.salmo-text { font-family: 'Cormorant Garamond', serif; font-size: clamp(1.2rem, 2.5vw, 1.6rem); color: var(--slate-blue); font-style: italic; line-height: 1.9; margin: 0; position: relative; text-align: center; }
.salmo-text::before, .salmo-text::after { font-family: 'Cormorant Garamond', serif; font-size: 4rem; color: var(--dusty-blue); opacity: 0.3; position: absolute; line-height: 1; }
.salmo-text::before { content: '«'; top: -20px; left: -10px; }
.salmo-text::after  { content: '»'; bottom: -35px; right: -5px; }
.salmo-text p { margin: 0 0 18px 0; position: relative; z-index: 1; }
.salmo-text p:last-child { margin-bottom: 0; }
.salmo-highlight { color: var(--dusty-blue); font-weight: 600; font-style: normal; }
.bible-reference { text-align: right; margin-top: 20px; padding-right: 8px; font-family: 'Montserrat', sans-serif; display:flex; align-items:baseline; justify-content:flex-end; gap:6px; }
.bible-reference-main { font-size: clamp(0.95rem, 1.8vw, 1.1rem); color: var(--slate-blue); font-weight: 600; letter-spacing: 0.5px; }
.bible-version { font-size: clamp(0.7rem, 1.2vw, 0.8rem); color: var(--dusty-blue); font-weight: 500; opacity: 0.8; text-transform: uppercase; letter-spacing: 1px; }

/* Indicador de scroll (opcional) */
.scroll-indicator { position: fixed; bottom: 30px; left: 50%; transform: translateX(-50%); z-index: 9998; display:flex; flex-direction:column; align-items:center; gap:8px; opacity: 1; transition: opacity 0.5s ease; pointer-events: none; }
.scroll-indicator.hidden { opacity: 0; visibility: hidden; }
.scroll-indicator__text { display: none; }
.scroll-indicator__arrow { width: 0; height: 0; border-left: 9.6px solid transparent; border-right: 9.6px solid transparent; border-top: 12.8px solid var(--dusty-blue); opacity: 0.3; animation: bounce 4s ease-in-out infinite; filter: drop-shadow(0 2px 4px rgba(109,47,19,0.2)); }
@keyframes bounce { 0%,100%{transform: translateY(0); opacity: 0.3;} 50%{transform: translateY(10px); opacity: 0.15;} }

.songbook-card{
  max-width:900px;
  margin:0 auto;
  display:flex;
  flex-direction:column;
  gap:clamp(18px,3vw,26px);
  background:linear-gradient(140deg, rgba(58,63,68,0.95) 0%, rgba(86,70,52,0.85) 55%, rgba(223,168,106,0.38) 100%);
  border:1px solid rgba(223,168,106,0.35);
  border-radius:20px;
  padding:clamp(22px,4vw,32px);
  box-shadow:0 20px 60px rgba(18,21,26,0.35);
  color:#f4eee6;
}
#cancionero.section{
  padding:clamp(36px,7vw,90px) 0 clamp(44px,7vw,96px);
}
.songbook-card__text{
  margin:12px 0 0 0;
  font-size:1.05rem;
  line-height:1.75;
  color:rgba(252,245,235,0.92);
}
.songbook-card__body{
  text-align:center;
  display:grid;
  gap:12px;
}
.songbook-card__actions{
  display:flex;
  justify-content:center;
}

.songbook-card .section-title{
  color:#fffdf8;
  letter-spacing:0.5px;
}

.songbook-modal{
  position:fixed;
  inset:0;
  display:flex;
  justify-content:center;
  align-items:center;
  opacity:0;
  visibility:hidden;
  pointer-events:none;
  transition:opacity 0.3s ease, visibility 0.3s ease;
  z-index:100000;
}
.songbook-modal.open{
  opacity:1;
  visibility:visible;
  pointer-events:auto;
}
.songbook-modal__backdrop{
  position:absolute;
  inset:0;
  background:rgba(9,12,16,0.72);
  backdrop-filter:blur(4px);
}
.songbook-modal__dialog{
  position:relative;
  z-index:1;
  width:min(92vw,880px);
  max-height:clamp(420px,85vh,760px);
  background:linear-gradient(145deg,#262c32 0%, #1a2026 60%, #2f373f 100%);
  border-radius:24px;
  padding:clamp(22px,3.5vw,32px);
  display:flex;
  flex-direction:column;
  gap:clamp(16px,3vw,22px);
  border:1px solid rgba(244,238,230,0.16);
  box-shadow:0 28px 80px rgba(0,0,0,0.55);
  color:#f4eee6;
}
.songbook-modal__header,
.songbook-modal__footer{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:16px;
}
.songbook-modal__header{
  border-bottom:1px solid rgba(244,238,230,0.1);
  padding-bottom:12px;
}
.songbook-modal__footer{
  justify-content:flex-end;
  border-top:1px solid rgba(244,238,230,0.08);
  padding-top:12px;
  gap:12px;
}
.songbook-modal__title{
  margin:0;
  font-size:clamp(1.4rem,3vw,1.8rem);
  font-family:'Cormorant Garamond',serif;
  color:#f4eee6;
}
.songbook-modal__close{
  background:rgba(244,238,230,0.1);
  color:#f4eee6;
  border:1px solid rgba(244,238,230,0.16);
  border-radius:50%;
  width:40px;
  height:40px;
  font-size:1.5rem;
  line-height:1;
  cursor:pointer;
  transition:all 0.3s ease;
}
.songbook-modal__close:hover{
  background:rgba(244,238,230,0.25);
  color:var(--charcoal);
}
.songbook-modal__body{
  overflow-y:auto;
  padding-right:clamp(6px,1vw,12px);
  display:grid;
  gap:clamp(22px,3vw,28px);
  color:rgba(248,242,233,0.92);
}
.songbook-modal__body::-webkit-scrollbar{
  width:8px;
}
.songbook-modal__body::-webkit-scrollbar-track{
  background:rgba(255,255,255,0.05);
  border-radius:8px;
}
.songbook-modal__body::-webkit-scrollbar-thumb{
  background:rgba(223,168,106,0.45);
  border-radius:8px;
}
.songbook-modal__body:focus{
  outline:2px solid rgba(244,238,230,0.25);
  outline-offset:4px;
}
.songbook-modal__loading,
.songbook-feedback{
  margin:0;
  font-size:1rem;
  color:rgba(250,245,236,0.9);
}
.songbook__section{
  background:rgba(255,255,255,0.05);
  border:1px solid rgba(244,238,230,0.14);
  border-radius:18px;
  padding:clamp(18px,3vw,24px);
  box-shadow:0 18px 40px rgba(0,0,0,0.28);
}
.songbook__section-header{
  display:flex;
  align-items:center;
  gap:12px;
  margin-bottom:14px;
}
.songbook__section-index{
  font-family:'Montserrat',sans-serif;
  font-weight:700;
  font-size:0.85rem;
  letter-spacing:0.3em;
  text-transform:uppercase;
  color:rgba(244,238,230,0.55);
}
.songbook__section h3{
  margin:0;
  font-family:'Cormorant Garamond',serif;
  font-size:clamp(1.4rem,3vw,1.7rem);
  color:#f4eee6;
}
.songbook__lyrics{
  display:grid;
  gap:12px;
  color:rgba(250,245,236,0.9);
  font-size:1.02rem;
  line-height:1.75;
  white-space:pre-line;
}
.songbook__lyrics p{
  margin:0;
  color:inherit;
}

body.modal-open{overflow:hidden;}

@keyframes bandGlow{
  0%{opacity:0.55;transform:translateY(0)}
  50%{opacity:0.75;transform:translateY(-10px)}
  100%{opacity:0.55;transform:translateY(0)}
}

@keyframes countFloat{
  0%,100%{transform:translateY(0)}
  50%{transform:translateY(-4px)}
}

@media (max-width: 640px) {
  .band--header { padding: clamp(30px, 8vw, 50px) 0 clamp(20px, 5vw, 30px); min-height:auto; }
  .hero-content h1 { font-size:clamp(2.5rem, 10vw, 3.5rem); letter-spacing:2px; margin-bottom:0; }
  .names-container { margin-bottom: clamp(15px, 4vw, 25px); }
  .wedding-announcement { margin: clamp(12px, 3vw, 20px) 0; }
  .kicker { font-size: clamp(1.1rem, 4.5vw, 1.4rem); letter-spacing: 3px; }
  .kicker::before, .kicker::after { width: clamp(25px, 6vw, 40px); margin: 0 12px; }
  .date-container { margin-top: clamp(12px, 3vw, 20px); }
  .date-badge { padding: clamp(10px, 2vw, 14px) clamp(18px, 3.5vw, 24px); gap: clamp(6px, 1.5vw, 10px); }
  .date-badge span:nth-child(1) { font-size: clamp(1.6rem, 6vw, 2rem); }
  .date-badge span:nth-child(3) { font-size: clamp(0.9rem, 3vw, 1.1rem); letter-spacing: 2px; }
  .date-badge span:nth-child(5) { font-size: clamp(0.85rem, 2.5vw, 1rem); }
  .nuestra-foto { padding: 1rem 0; }
  .foto-container { width: 85%; max-width: 100%; }
  .ampersand { font-size: 1.2em; margin: 0 0.2em; }
}

@media (max-width: 375px) {
  .band--header { padding: 25px 0 15px; }
  .hero-content h1 { font-size: 2.2rem; letter-spacing: 1px; }
  .names-container { margin-bottom: 12px; }
  .wedding-announcement { margin: 10px 0; }
  .kicker { font-size: 1rem; letter-spacing: 2px; }
  .date-container { margin-top: 10px; }
  .nuestra-foto { padding: 0.75rem 0; }
}

@media (max-width: 640px) and (min-height: 800px) {
  .band--header { padding: clamp(35px, 8vw, 55px) 0 clamp(25px, 5vw, 35px); }
  .nuestra-foto { padding: 1.25rem 0; }
}
